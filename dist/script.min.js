let pokemonRepository=function(){let t=[],e=$(".pokemon-list");function n(e){"object"==typeof e&&e.name&&e.detailsUrl?t.push(e):console.log("pokemon is not correct")}function o(){return t}function i(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlBack=e.sprites.back_default,t.height=e.height,t.weight=e.weight,t.types=e.types.map(t=>t.type.name).join(", "),t.abilities=e.abilities.map(t=>t.ability.name).join(", ")}).catch(function(t){console.error(t)})}function a(t){i(item).then(function(){l(t)})}function l(t){let e=$(".modal-body"),n=$(".modal-title");e.empty(),n.text(t.name);let o=$("<p>Height:  "+t.height+"cm</p>"),i=$("<p>weight: "+t.weight+"g</p>"),a=$('<img class="pokemon-img" src="'+t.imageUrlFront+'" />'),l=$('<img class="pokemon-img" src="'+t.imageUrlBack+'" />'),p=$("<p>Types:  "+t.types+"</p>"),s=$("<p>Abilities: "+t.abilities+"</p>");e.append(a),e.append(l),e.append(o),e.append(i),e.append(p),e.append(s)}let p=document.getElementById("search-pokemon");return p.addEventListener("keyup",t=>{t.preventDefault();let e=document.querySelectorAll(".list-group-item"),n=t.target.value.toLowerCase();e.forEach(function(t){t.innerText.toLowerCase().indexOf(n)>-1?t.style.display="":t.style.display="none"})}),{add:n,getAll:o,addListItem:function t(n){let o=$('<li class="list-group-item"></li>'),i=$('<button class="pokemon-button btn btn-info" data-target="#pokemon-modal" data-toggle="modal">'+n.name+"</button>");o.append(i),e.append(o),i.on("click",function(){a(n)})},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){n({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:i,showDetails:a,showDetailsModal:l}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});